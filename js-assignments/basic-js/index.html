<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Basic JavaScript</title>
</head>
<body>
    <p>Check the console for the run tests</p>

    <script>
/**
 * #1
 * A maximum value from the given two numbers
 * @param {number} a 
 * @param {number} b 
 * @returns {number} number: max value from the given two numbers
 */
function max(a, b) {
    if (a > b) 
        return a;
    else
        return b;
}

/**
 * #2
 * takes three parameters and returns the largest of them
 * @param {number} a 
 * @param {number} b 
 * @param {number} c 
 * @returns {number} returns the maximum number
 */
function maxOfThree (a, b, c) {
    return [a, b, c].reduce((l, c) => l > c ? l : c);
}

/**
 * #3
 * takes a string and checks whether it's a vowel or not
 * @param {String} str 
 * @returns returns whether given string is a vowel or not
 */
function isVowel(str) {
    return str.length === 1 && ['a', 'e', 'i', 'o', 'u'].some((v) => v === str);
}

/**
 * #4
 * sums the values in the array
 * @param {Array.<number>} numbers 
 * @returns the sum of the values in the array
 */
function sum(numbers) {
    return numbers.reduce((l, c) => l + c);
}

/**
 * #4
 * multiplies the values in the array
 * @param {Array.<number>} numbers 
 * @returns the multiple of the values in the array
 */
 function multiply(numbers) {
    return numbers.reduce((l, c) => l * c);
}

/**
 * #5
 * reverses the parameter string
 * @param {String} str 
 * @returns reversed string of the parameter
 */
function reverse(str) {
    let ret = '';
    for (let i = str.length - 1; i > -1; i--) {
        ret += str.charAt(i);
    }
    return ret;
}

/**
 * #6
 * takes an array of words and returns the length of the longest one.
 * @param {Array.<String>} words 
 * @returns the length of the longest word the array
 */
function findLongestWord(words) {
    return words.reduce((l, c) => l > c.length ? l : c.length, 0);
}

/**
 * #7
 * @param {Array.<String>} words 
 * @param {number} i 
 * @returns words from the arrays that are longer than i
 */
function findLongWords(words, i) {
    return words.filter(c => c.length > i)
}

// Test Functions and test runs

/**
 * this is a test runner function that takes an expected value
 * and a function that runs the testable function and returns
 * the value to compare it against the expected value and 
 * reports a message whether the testable function is giving a
 * correct result.
 * @param {any} expected Expected value from running the test
 * @param {function} runnableFunc a function that runs the testable function
 * @returns message of the test pass or fail status
 */
function myValTestFunction(expected, runnableFunc) {
    let found = runnableFunc();
    let truthVal = false;
    if (Array.isArray(found)) {
        truthVal = found.length === expected.length && 
            found.every((item, index) => item === expected[index]);
    } else {
        truthVal = expected === found;
    }
    if (truthVal)
        return 'TEST SUCCEEDED';
    else
        return `TEST FAILED. Expected ${expected} found ${found}`;
}

console.log("Expected output of max(20, 10) is 20 and  " 
    + myValTestFunction(20, function() { return max( 20, 10)} ));

console.log(`Expected output of maxOfThree(30, 20, 10)\
 ${myValTestFunction(30, function() { return maxOfThree(30, 20, 10) })}`);

console.log("Expected output of isVowel('a') is true and  " + 
    myValTestFunction(true, function() { return isVowel('a') }));

console.log("Expected output of isVowel('s') is false and  " + 
    myValTestFunction(false, function() { return isVowel('s') }));

console.log("Expected output of sum([1, 2, 3, 4]) is 10 and  " +
    myValTestFunction(10, function() { return sum([1, 2, 3, 4]) }));

console.log("Expected output of multiply([1, 2, 3, 4]) is 24 and  " +
    myValTestFunction(24, function() { return multiply([1, 2, 3, 4]) }));

console.log("Expected output of reverse('nehi') is true and  " +
    myValTestFunction("ihen", function() { return reverse('nehi') }));

console.log("Expected output of findLongestWord(['nehi', 'rutty', 'bro']) is 5 and  " +
    myValTestFunction(5, function() { return findLongestWord(['nehi', 'rutty', 'bro']) }));

console.log("Expected output of findLongWords(['nehi', 'rutty', 'bro']) is ['nehi'] and  " +
    myValTestFunction(['nehi', 'rutty'], function() { return findLongWords(['nehi', 'rutty', 'bro'], 3) }));



// Questions from jsFiddle
console.log("\nJS-Fiddle questions and answers")
const a = [1,3,5,3,3]; 
const b = a.map(function(elem, i, array) {
    return elem * 10;
})
console.log(b.toString());
const c = a.filter(
    function(elem, i, array){
        return elem === 3;
});
console.log(c.toString());
const d = a.reduce(
    function(prevValue, elem, i, array){
        return prevValue * elem;
});
console.log(d);

const d2 = a.find(
    function(elem) {
        return elem > 1;
}); //3
const d3 = a.findIndex(
    function(elem) {
        return elem > 1;
}); //1
console.log(d2);
console.log(d3);

    </script>
</body>
</html>